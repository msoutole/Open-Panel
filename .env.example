# ============================================================================
# OpenPanel - Vari√°veis de Ambiente
# ============================================================================
# ‚ö†Ô∏è  ESTE √â O √öNICO ARQUIVO DE CONFIGURA√á√ÉO QUE VOC√ä DEVE EDITAR
# ============================================================================
# 
# üîí SEGURAN√áA IMPORTANTE:
# - Este arquivo cont√©m APENAS PLACEHOLDERS/EXEMPLOS
# - NUNCA commite o arquivo .env real (ele est√° no .gitignore)
# - NUNCA use as senhas padr√£o em produ√ß√£o
# - Gere senhas fortes e √∫nicas para cada instala√ß√£o
# 
# Este arquivo cont√©m TODAS as vari√°veis de ambiente necess√°rias para o OpenPanel.
# 
# ‚úÖ COPIE ESTE ARQUIVO PARA .env E EDITE APENAS O .env
# ‚úÖ API e Web leem diretamente deste arquivo .env da raiz
# ‚úÖ N√ÉO √© necess√°rio criar arquivos .env nos subprojetos
# 
# O script start.js criar√° automaticamente um .env com valores seguros se n√£o existir.
# ============================================================================

# ============================================================================
# AMBIENTE
# ============================================================================
# Modo de execu√ß√£o: development, production, test
NODE_ENV=development

# ============================================================================
# SERVIDOR
# ============================================================================
# Porta da API (padr√£o: 3001)
API_PORT=3001

# URL da aplica√ß√£o web (usado para CORS e links)
APP_URL=http://localhost:3000

# Porta da aplica√ß√£o web (padr√£o: 3000)
APP_PORT=3000

# ============================================================================
# BANCO DE DADOS (PostgreSQL)
# ============================================================================
# ‚ö†Ô∏è  BANCO COMPARTILHADO: Todos os ambientes (dev, pre, prod) usam o mesmo banco
# URL de conex√£o completa do PostgreSQL
# Formato: postgresql://usuario:senha@host:porta/database
# Para containers Docker, use o nome do servi√ßo: openpanel-postgres
DATABASE_URL=postgresql://openpanel:changeme@openpanel-postgres:5432/openpanel

# Usu√°rio do PostgreSQL (usado no docker-compose)
POSTGRES_USER=openpanel

# Senha do PostgreSQL (usado no docker-compose)
# IMPORTANTE: Altere para uma senha forte em produ√ß√£o!
POSTGRES_PASSWORD=changeme

# Nome do banco de dados (usado no docker-compose)
# ‚ö†Ô∏è  Todos os ambientes compartilham este banco √∫nico
POSTGRES_DB=openpanel

# Porta do PostgreSQL (usado no docker-compose)
POSTGRES_PORT=5432

# ============================================================================
# REDIS (Cache e Filas)
# ============================================================================
# ‚ö†Ô∏è  REDIS COMPARTILHADO: Todos os ambientes (dev, pre, prod) usam database 0
# URL de conex√£o completa do Redis (opcional, pode usar vari√°veis individuais)
# Formato: redis://[:senha@]host:porta/database
# Para containers Docker, use o nome do servi√ßo: openpanel-redis
REDIS_URL=redis://:changeme@openpanel-redis:6379/0

# Host do Redis (usado se REDIS_URL n√£o for fornecido)
REDIS_HOST=openpanel-redis

# Porta do Redis (usado se REDIS_URL n√£o for fornecido)
REDIS_PORT=6379

# Senha do Redis (usado no docker-compose)
# IMPORTANTE: Altere para uma senha forte em produ√ß√£o!
REDIS_PASSWORD=changeme

# ============================================================================
# AUTENTICA√á√ÉO (JWT)
# ============================================================================
# Chave secreta para assinar tokens JWT
# IMPORTANTE: Deve ter no m√≠nimo 32 caracteres!
# Gere uma chave segura com: openssl rand -hex 64
# O script start.js gerar√° automaticamente uma chave segura se n√£o existir
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# Tempo de expira√ß√£o do token de acesso (ex: 15m, 1h, 7d)
JWT_ACCESS_EXPIRES_IN=15m

# Tempo de expira√ß√£o do token de refresh (ex: 7d, 30d)
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================
# Origem permitida para requisi√ß√µes CORS
# Em produ√ß√£o, use o dom√≠nio real: https://seu-dominio.com
CORS_ORIGIN=http://localhost:3000

# ============================================================================
# DOCKER
# ============================================================================
# Host do Docker (opcional)
# Linux/macOS: deixe vazio para usar socket padr√£o
# Windows: deixe vazio para usar pipe padr√£o
# Remoto: use o IP ou hostname do servidor Docker
DOCKER_HOST=

# Porta do Docker (opcional, apenas se usar TCP)
# Padr√£o: 2375 (n√£o seguro) ou 2376 (TLS)
DOCKER_PORT=

# Caminho do socket Docker (opcional)
# Linux/macOS: /var/run/docker.sock
# Windows: //./pipe/docker_engine
DOCKER_SOCKET_PATH=

# ============================================================================
# TAILSCALE (VPN)
# ============================================================================
# Auth Key do Tailscale para acesso remoto seguro
# Obtenha uma auth key em: https://login.tailscale.com/admin/settings/keys
# Deixe vazio se n√£o quiser usar Tailscale
TAILSCALE_AUTHKEY=

# ============================================================================
# HOME LAB / NETWORK
# ============================================================================
# IP est√°tico (se configurado)
STATIC_IP=

# Interface de rede (detectada automaticamente)
NETWORK_INTERFACE=

# Gateway IP (detectado automaticamente)
GATEWAY_IP=

# Subnet mask (ex: 24)
SUBNET=

# ============================================================================
# ADGUARD HOME
# ============================================================================
# Habilitar AdGuard Home (true/false)
ADGUARD_ENABLED=false

# Porta do painel admin do AdGuard
ADGUARD_ADMIN_PORT=3000

# Porta DNS do AdGuard
ADGUARD_DNS_PORT=53

# ============================================================================
# DOMAIN CONFIGURATION
# ============================================================================
# Dom√≠nio principal (ex: meusite.com)
DOMAIN=

# Provedor de DNS (hostinger, manual)
DOMAIN_PROVIDER=hostinger

# No-IP Dynamic DNS
NOIP_USERNAME=
NOIP_PASSWORD=
NOIP_HOSTNAME=

# Hostinger API Key (para configura√ß√£o autom√°tica via MCP)
HOSTINGER_API_KEY=

# ============================================================================
# TRAEFIK (Proxy Reverso)
# ============================================================================
# Habilitar dashboard do Traefik (true/false)
# Em produ√ß√£o, mantenha como false e use autentica√ß√£o
TRAEFIK_DASHBOARD=false

# URL da API do Traefik
TRAEFIK_API_URL=http://localhost:8080

# Caminho para configura√ß√£o do Traefik
TRAEFIK_CONFIG_PATH=/etc/traefik

# ============================================================================
# SSL/HTTPS (Let's Encrypt)
# ============================================================================
# Caminho para armazenar certificados SSL
SSL_STORAGE_PATH=/etc/letsencrypt

# Email para notifica√ß√µes do Let's Encrypt (opcional)
SSL_EMAIL=

# ============================================================================
# BACKUPS
# ============================================================================
# Caminho para armazenar backups
BACKUP_PATH=/var/lib/openpanel/backups

# ============================================================================
# GIT
# ============================================================================
# Caminho para clonar reposit√≥rios Git
GIT_WORKSPACE_PATH=/tmp/openpanel/git

# ============================================================================
# IA/LLM (Opcional)
# ============================================================================
# Host do Ollama (para modelos de IA locais)
# Deixe vazio se n√£o usar Ollama
OLLAMA_HOST=http://openpanel-ollama:11434

# Porta do Ollama (usado no docker-compose)
OLLAMA_PORT=11434

# Chave da API OpenAI (opcional, para usar GPT)
OPENAI_API_KEY=

# Chave da API Anthropic (opcional, para usar Claude)
ANTHROPIC_API_KEY=

# ============================================================================
# EMAIL (Opcional, para notifica√ß√µes futuras)
# ============================================================================
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# ============================================================================
# MONITORAMENTO (Opcional)
# ============================================================================
# DSN do Sentry para rastreamento de erros
SENTRY_DSN=

# ============================================================================
# LOGS
# ============================================================================
# N√≠vel de log: error, warn, info, debug
LOG_LEVEL=info

# Formato de log: json, text
LOG_FORMAT=json

# ============================================================================
# FLAGS DE RECURSOS (Feature Flags)
# ============================================================================
# Habilitar webhooks (true/false)
ENABLE_WEBHOOKS=true

# Habilitar deploy autom√°tico (true/false)
ENABLE_AUTO_DEPLOY=true

# Habilitar agentes (true/false)
ENABLE_AGENTS=true

# ============================================================================
# VITE (Frontend - Web)
# ============================================================================
# Vari√°veis para o frontend (Vite requer prefixo VITE_)
# O Vite l√™ diretamente deste arquivo .env da raiz (configurado em vite.config.ts)
VITE_API_URL=http://localhost:3001
VITE_APP_NAME=OpenPanel
VITE_APP_VERSION=0.3.0
VITE_ENABLE_AI_CHAT=true
VITE_ENABLE_TERMINAL=true
VITE_ENABLE_MONITORING=true
VITE_GEMINI_API_KEY=

# ============================================================================
# NOTAS IMPORTANTES
# ============================================================================
# 1. Em produ√ß√£o, ALTERE todas as senhas padr√£o:
#    - POSTGRES_PASSWORD
#    - REDIS_PASSWORD
#    - JWT_SECRET (m√≠nimo 32 caracteres)
#
# 2. Gere uma JWT_SECRET segura:
#    Linux/macOS: openssl rand -hex 64
#    Node.js: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# 3. Para containers Docker, use os nomes dos servi√ßos:
#    - openpanel-postgres (ao inv√©s de localhost)
#    - openpanel-redis (ao inv√©s de localhost)
#
# 4. O script start.js criar√° automaticamente este arquivo com valores seguros
#    se voc√™ n√£o tiver um arquivo .env ainda.
#
# 5. ‚ö†Ô∏è  IMPORTANTE: TODAS as configura√ß√µes devem estar neste arquivo .env da raiz.
#    A API e o Web leem diretamente deste arquivo - n√£o h√° mais sincroniza√ß√£o!
#
# 6. Ap√≥s editar este arquivo, execute "npm start" para aplicar as mudan√ßas.
#
# 7. Estrutura de configura√ß√£o simplificada:
#    Open-Panel/
#    ‚îú‚îÄ‚îÄ .env              ‚Üê ‚úÖ √öNICO ARQUIVO DE CONFIGURA√á√ÉO
#    ‚îú‚îÄ‚îÄ apps/
#    ‚îÇ   ‚îú‚îÄ‚îÄ api/          ‚Üê L√™ diretamente do .env da raiz
#    ‚îÇ   ‚îî‚îÄ‚îÄ web/          ‚Üê L√™ diretamente do .env da raiz
# ============================================================================
